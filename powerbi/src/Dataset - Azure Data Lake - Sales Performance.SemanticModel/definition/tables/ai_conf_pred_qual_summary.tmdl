/// Table ai_conf_pred_qual_summary.
table ai_conf_pred_qual_summary
	description: "One row per ai_conf_pred_qual_summary record. Source fields include System prefixes. Related to LocalDateTable_f7f3b7ac-c84f-4017-a753-6192ae9fb705 (_sys_filter_start_date -> Date), LocalDateTable_049f8c8f-682c-4dba-871b-92ee40d713ba (_sys_process_date -> Date)."
	lineageTag: 60f36592-e343-4460-9acd-949e6c010c46

	/// Column _sys_docid.
	column _sys_docid
		description: "Unclear: System: Value for docid."
		lineageTag: e77a7fb0-5e3e-4ece-b1a0-4cea6c42c137
		summarizeBy: none
		isNameInferred
		sourceColumn: [_sys_docid]

		annotation SummarizationSetBy = Automatic

	/// Column _sys_coid.
	column _sys_coid
		description: "Unclear: System: Value for coid."
		lineageTag: 0b12a714-9959-4e6c-adf3-d7a71d156114
		summarizeBy: none
		isNameInferred
		sourceColumn: [_sys_coid]

		annotation SummarizationSetBy = Automatic

	/// Column _sys_filter_start_date.
	column _sys_filter_start_date
		description: "System: Date/time when filter start date."
		formatString: General Date
		lineageTag: f9204acb-bfa4-4d84-9bb4-eacb623c4c11
		summarizeBy: none
		isNameInferred
		sourceColumn: [_sys_filter_start_date]

		variation Variation
			isDefault
			relationship: ef89fda1-5f6f-4524-9be7-bd8c92679d25
			defaultHierarchy: LocalDateTable_f7f3b7ac-c84f-4017-a753-6192ae9fb705.'Date Hierarchy'

		annotation SummarizationSetBy = Automatic

	/// Column _sys_process_date.
	column _sys_process_date
		description: "System: Date/time when process date."
		formatString: General Date
		lineageTag: 7e98500c-7c2a-4774-a421-d4d8a64e63fe
		summarizeBy: none
		isNameInferred
		sourceColumn: [_sys_process_date]

		variation Variation
			isDefault
			relationship: dcd7f360-987a-4d84-aced-56134315c3ab
			defaultHierarchy: LocalDateTable_049f8c8f-682c-4dba-871b-92ee40d713ba.'Date Hierarchy'

		annotation SummarizationSetBy = Automatic

	/// Column step_id.
	column step_id
		description: "Identifier for step."
		formatString: 0
		lineageTag: 62ce11ed-9316-46f6-a8c3-1cddf18bd561
		summarizeBy: sum
		isNameInferred
		sourceColumn: [step_id]

		annotation SummarizationSetBy = Automatic

	/// Column step_name.
	column step_name
		description: "Unclear: Value for step name."
		lineageTag: 5e0a611d-d8d2-4319-a821-90f9d31efb62
		summarizeBy: none
		isNameInferred
		sourceColumn: [step_name]

		annotation SummarizationSetBy = Automatic

	/// Column validation_score.
	column validation_score
		description: "Unclear: Value for validation score."
		lineageTag: c2a31225-179c-475e-a95a-a257212509fb
		summarizeBy: sum
		isNameInferred
		sourceColumn: [validation_score]

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	/// Column training_score.
	column training_score
		description: "Unclear: Value for training score."
		lineageTag: b74deff1-39d2-450a-b518-908c03132948
		summarizeBy: sum
		isNameInferred
		sourceColumn: [training_score]

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	/// Column r2.
	column r2
		description: "Unclear: Value for r2."
		lineageTag: 29a80898-3987-498f-82c3-b543feab911d
		summarizeBy: average
		isNameInferred
		sourceColumn: [r2]

		annotation SummarizationSetBy = User

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	/// Column auc.
	column auc
		description: "Unclear: Value for auc."
		lineageTag: 89967c4f-6c33-45e7-b51c-ced76eac18f4
		summarizeBy: average
		isNameInferred
		sourceColumn: [auc]

		annotation SummarizationSetBy = User

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	/// Column pred_qual_score.
	column pred_qual_score
		description: "Unclear: Value for pred qual score."
		lineageTag: 6eb132e1-49fe-4110-ac0a-2596816ff750
		summarizeBy: sum
		isNameInferred
		sourceColumn: [pred_qual_score]

		annotation SummarizationSetBy = Automatic

		annotation PBI_FormatHint = {"isGeneralNumber":true}

	partition ai_conf_pred_qual_summary = calculated
		mode: import
		source = ```
				
				UNION(
				
				 SELECTCOLUMNS(TopN(1,companies_history, companies_history[_sys_processed_as_of],DESC ), "_sys_docid", companies_history[_sys_doc_id],  "_sys_coid", companies_history[_sys_co_id],  "_sys_filter_start_date", companies_history[_sys_filt_start_date]  , "_sys_process_date", companies_history[_sys_processed_as_of] ,"step_id", 3, "step_name", "Prospecting", 
				 "validation_score", companies_history[di_success_prob_validation_score],
				 "training_score", companies_history[di_success_prob_training_score],
				   
				  "r2",companies_history[di_pred_prospecting_r2], "auc", companies_history[di_pred_prospecting_auc], "pred_qual_score", (if(companies_history[di_pred_prospecting_r2] < 0,0 , companies_history[di_pred_prospecting_r2]) +  companies_history[di_pred_prospecting_auc]) / 2 ), // prospecting
				
				 SELECTCOLUMNS(TopN(1,companies_history, companies_history[_sys_processed_as_of],DESC ), "_sys_docid", companies_history[_sys_doc_id],  "_sys_coid", companies_history[_sys_co_id],  "_sys_filter_start_date", companies_history[_sys_filt_start_date]  , "_sys_process_date", companies_history[_sys_processed_as_of] ,"step_id", 4, "step_name", "New Logo Selling", "validation_score", companies_history[di_success_prob_validation_score],
				"training_score", companies_history[di_success_prob_training_score],
				   "r2",companies_history[di_pred_new_logo_r2], "auc", companies_history[di_pred_new_logo_auc], "pred_qual_score", (if(companies_history[di_pred_new_logo_r2] < 0,0 , companies_history[di_pred_new_logo_r2]) +  companies_history[di_pred_new_logo_auc]) / 2  ), // new logo 
				
				 SELECTCOLUMNS(TopN(1,companies_history, companies_history[_sys_processed_as_of],DESC ), "_sys_docid", companies_history[_sys_doc_id],  "_sys_coid", companies_history[_sys_co_id],  "_sys_filter_start_date", companies_history[_sys_filt_start_date]  , "_sys_process_date", companies_history[_sys_processed_as_of] ,"step_id", 5, "step_name", "Post-Sales Support",  "validation_score", companies_history[di_success_prob_validation_score], 
				 "training_score", companies_history[di_success_prob_training_score],
				 "r2",companies_history[di_pred_post_sales_r2], "auc", companies_history[di_pred_post_sales_auc], "pred_qual_score", (if(companies_history[di_pred_post_sales_r2] < 0,0 , companies_history[di_pred_post_sales_r2]) +  companies_history[di_pred_post_sales_auc]) / 2 ), // post_sales
				
				 SELECTCOLUMNS(TopN(1,companies_history, companies_history[_sys_processed_as_of],DESC ), "_sys_docid", companies_history[_sys_doc_id],  "_sys_coid", companies_history[_sys_co_id],  "_sys_filter_start_date", companies_history[_sys_filt_start_date]  , "_sys_process_date", companies_history[_sys_processed_as_of] ,"step_id", 6, "step_name", "Existing Customer Selling",
				  "validation_score", companies_history[di_success_prob_validation_score], 
				  "training_score", companies_history[di_success_prob_training_score],
				  "r2",companies_history[di_pred_existing_customer_selling_r2], "auc", companies_history[di_pred_existing_customer_selling_auc], "pred_qual_score", (if(companies_history[di_pred_existing_customer_selling_r2] < 0,0 , companies_history[di_pred_existing_customer_selling_r2]) +  companies_history[di_pred_existing_customer_selling_auc]) / 2 ) // existing customer selling 
				)
				```

	annotation PBI_Id = c91bdad0baad430286466d8193efce5f

